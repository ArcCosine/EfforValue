(function(p){function A(h){var k=[],i,j=0;for(i in h)h.hasOwnProperty(i)&&(k[j++]=i);return k}function Z(h,k,i){var j=0;"value"in i&&(j|=1);"get"in i&&(j|=2);"set"in i&&(j|=4);if(j&1&&j&6)throw new TypeError("BAD_ARG");j&1&&(h[k]=i.value);j&2&&h.__defineGetter__(k,i.get);j&4&&h.__defineSetter__(k,i.set)}function S(){return+new Date}function $(h){return Object.prototype.toString.call(h)==="[object Array]"}function ia(h,k){for(var i=0,j=this.length,q=Array(j);i<j;++i)if(i in this)q[i]=h.call(k,this[i],
i,this);return q}function ja(h,k){for(var i=0,j=this.length;i<j;++i)i in this&&h.call(k,this[i],i,this)}function ka(h,k){for(var i=0,j=this.length;i<j;++i)if(i in this&&h.call(k,this[i],i,this))return true;return false}function la(h,k){for(var i=0,j=this.length;i<j;++i)if(i in this&&!h.call(k,this[i],i,this))return false;return true}function ma(h,k){for(var i=[],j,q=0,m=this.length;q<m;++q)if(q in this){j=this[q];h.call(k,j,q,this)&&i.push(j)}return i}function B(h,k,i){var j,q=0,m=(i=!!i)?--s:0,s=
this.length;if(k!==void 0){j=k;++q}for(;i?m>=0:m<s;i?--m:++m)if(m in this)if(q)j=h(j,this[m],m,this);else{j=this[m];++q}if(!q)throw Error("BAD_ARG");return j}function T(h,k){return B.call(this,h,k,true)}function na(h,k){var i=k||0,j=this.length;for(i=i<0?i+j:i;i<j;++i)if(i in this&&this[i]===h)return i;return-1}function oa(h,k){var i=k,j=this.length;for(i=i<0?i+j+1:j;--i>=0;)if(i in this&&this[i]===h)return i;return-1}function pa(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}function qa(){return Array.prototype.slice.call(arguments)}
function ra(h){for(var k=[],i=0,j=h.length;i<j;++i)k.push(h[i]);return k}function aa(){var h={y:this.getUTCFullYear(),m:this.getUTCMonth()+1,d:this.getUTCDate()},k={h:this.getUTCHours(),m:this.getUTCMinutes(),s:this.getUTCSeconds(),ms:this.getUTCMilliseconds()};return h.y+"-"+(h.m<10?"0":"")+h.m+"-"+(h.d<10?"0":"")+h.d+"T"+(k.h<10?"0":"")+k.h+":"+(k.m<10?"0":"")+k.m+":"+(k.s<10?"0":"")+k.s+"."+("00"+k.ms).slice(-3)+"Z"}function sa(h){return typeof h==="number"&&p.isFinite(h)&&h>-9007199254740992&&
h<9007199254740992&&Math.floor(h)===h}function ta(h){h=+h;if(h!==h)return+0;if(h===0||!p.isFinite(h))return h;return(h<0?-1:1)*Math.floor(Math.abs(h))}function ba(h){return this.length&&h>0?Array(h+1|0).join(this):""}function ua(){return this.split("").reverse().join("")}function U(h){var k,i=this,j=Array.prototype.slice.call(arguments,1),q=function(){};k=function(){return i.apply(this instanceof q?this:h,Array.prototype.concat.call(j,Array.prototype.slice.call(arguments)))};q.prototype=i.prototype;
k.prototype=new q;return k}function ca(h){if(/[^,:{}\[\]0-9\.\-+Eaeflnr-u \n\r\t]/.test(h.trim().replace(/"(\\.|[^"\\])*"/g,"")))throw new SyntaxError("Unexpected token:"+h);return(new Function("return "+h))()}function L(h){return K(h,0)}function K(h,k){var i=[],j,q,m,s;j=typeof h;var v=["{","}"];if(k>=100)throw new TypeError("Converting circular structure to JSON");if(h==null)return h+"";if(h.toJSON)return h.toJSON();if(j==="boolean"||j==="number")return""+h;if(j==="string")return'"'+V(h)+'"';if(h.nodeType||
h.exec&&h.test)return"{}";if(Array.isArray(h)){v=["[","]"];m=0;for(s=h.length;m<s;++m)i.push(K(h[m],k+1))}else{j=Object.keys(h);m=0;for(s=j.length;m<s;++m){q=j[m];i.push('"'+V(q)+'":'+K(h[q],k+1))}}return v[0]+i.join(",")+v[1]}function V(h){var k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return h.replace(/(?:[\b\t\n\f\r\"]|\\)/g,function(i){return k[i]}).replace(/(?:[\x00-\x1f])/g,function(i){return"\\u00"+("0"+i.charCodeAt(0).toString(16)).slice(-2)})}
function da(h){function k(){var M=256;for(N={};M<512;++M)N[M-256]=M.toString(16).slice(-2);return N}var i=[],j=0,q=h.length,m=0,s,v;for(v=N||k();j<q;++j){m=h.charCodeAt(j);if(m<128){(s=m===95||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122)||(s=m===33||m===45||m===46||m===126||m>=39&&m<=42);s?i.push(h.charAt(j)):i.push("%",v[m])}else if(m<2048)i.push("%",v[m>>>6&31|192],"%",v[m&63|128]);else m<65536&&i.push("%",v[m>>>12&15|224],"%",v[m>>>6&63|128],"%",v[m&63|128])}return i.join("")}function H(h){return h.replace(/(%[\da-f][\da-f])+/g,
function(k){var i=[];k=k.split("%").slice(1);for(var j=0,q=k.length,m,s,v;j<q;++j){m=parseInt(k[j],16);if(m!==m)throw Error("BAD_ARG");if(m<128)i.push(m);else if(m<224){s=parseInt(k[++j],16);i.push((m&31)<<6|s&63)}else if(m<240){s=parseInt(k[++j],16);v=parseInt(k[++j],16);i.push((m&15)<<12|(s&63)<<6|v&63)}}return String.fromCharCode.apply(null,i)})}function C(h,k){for(var i,j=Object.keys(k),q=0,m=j.length;q<m;++q){i=j[q];i in h||Object.defineProperty(h,i,{configurable:true,enumerable:false,writable:true,
value:k[i]})}}var N;(function(){if(!Object.keys)Object.keys=A;if(!Object.defineProperties)Object.defineProperty=Z;if(Date.prototype.toJSON&&(new Date).toJSON().length<24)Date.prototype.toJSON=aa;C(Date,{now:S});C(Date.prototype,{toJSON:aa});C(Array,{of:qa,from:ra,isArray:$});C(Array.prototype,{map:ia,forEach:ja,some:ka,every:la,indexOf:na,lastIndexOf:oa,filter:ma,reduce:B,reduceRight:T});C(String.prototype,{trim:pa,repeat:ba,reverse:ua});C(Number,{isNaN:function(h){return typeof h==="number"&&p.isNaN(h)},
isFinite:function(h){return typeof h==="number"&&p.isFinite(h)},isInteger:sa,toInteger:ta});C(Function.prototype,{bind:U});p.JSON||(p.JSON={parse:ca,stringify:L});if(!p.encodeURIComponent)p.encodeURIComponent=da;if(!p.decodeURIComponent)p.decodeURIComponent=H})()})(this.self||global);var mm;
mm||function(p){function A(a){this._=a}function Z(){this._deliverable={};this._broadcast=[];Object.defineProperty(this,"__CLASS__",{value:"Msg"});Object.defineProperty(this,"__CLASS_UID__",{value:L("mm.class")})}function S(a,b,c){this._db={missables:0,waits:b,pass:0,miss:0,state:100,args:[],tick:c||null,fn:a};Object.defineProperty(this,"__CLASS__",{value:"Await"});Object.defineProperty(this,"__CLASS_UID__",{value:L("mm.class")})}function $(a){return a instanceof A?new A(H(a._)):new A(a)}function ia(a,
b){if(a in mm)throw new TypeError("ALREADY_EXISTS: "+a);mm.Interface[a]=b}function ja(a,b,c){function d(){if(!d.__INSTANCE__){d.__INSTANCE__=this;f(this,arguments)}return d.__INSTANCE__}function e(){f(this,arguments)}function f(l,o){Object.defineProperty(l,"__CLASS__",{value:g.klass});Object.defineProperty(l,"__CLASS_UID__",{value:L("mm.class")});for(var n=l,r=[];n=n.__BASE__;)n.init&&r.push(n);for(;n=r.pop();)n.init.apply(l,o);b.init&&b.init.apply(l,o);l.gc=function(){b.gc&&b.gc.call(l);for(n=l;n=
n.__BASE__;)n.gc&&n.gc.call(l);if(g.traits.has("Singleton")){delete d.__INSTANCE__;delete mm["i"+g.klass]}s(l);l.gc=function(){E("GC_BAD_CALL")}}}b=b||{};var g=la(a);if(mm.Class[g.klass])return mm.Class[g.klass];mm.Class[g.klass]=g.klass;mm[g.klass]=g.traits.has("Singleton")?d:e;if(g.base){a=function(){};a.prototype=mm[g.base].prototype;mm[g.klass].prototype=new a;B(mm[g.klass].prototype,b,true);mm[g.klass].prototype.constructor=mm[g.klass];mm[g.klass].prototype.__BASE__=B({},mm[g.base].prototype)}else{B(mm[g.klass].prototype,
b);mm[g.klass].prototype.__BASE__=null}mm[g.klass].prototype.callSuper=ka;c&&B(mm[g.klass],c);if(g.traits.has("Singleton")&&!g.traits.has("SelfInit"))mm["i"+g.klass]=new mm[g.klass];return mm[g.klass]}function ka(a){for(var b=this,c=Array.prototype.slice.call(arguments,1);b=b.__BASE__;)if(typeof b[a]==="function")return b[a].apply(this,c);c.unshift(a);return this.trap.apply(this,c)}function la(a){var b=["Singleton","SelfInit"];a=a.split(":");var c,d={klass:"",traits:[],base:"",ifs:[]};d.klass=a.shift();
if(!d.klass)throw new TypeError("CLASS_NAME_NOT_FOUND");for(;c=a.shift();)if(c in mm.Interface)d.ifs.push(c);else if(b.has(c))d.traits.push(c);else if(mm.Class[c]){if(d.base)throw new TypeError("CLASS_NAME_MULTIPLE_INHERITANCE: "+c);d.base=c}else throw new TypeError("TRAITS_OR_CLASS_NAME_NOT_FOUND: "+c);return d}function ma(a,b){return a?B(a,b):b}function B(a,b,c){c=c||false;for(var d,e=Object.keys(b),f=0,g=e.length;f<g;++f){d=e[f];if(c||!(d in a))a[d]=b[d]}return a}function T(a,b,c){c=c||false;for(var d,
e=Object.keys(b),f=0,g=e.length;f<g;++f){d=e[f];if(c||!(d in a))Object.defineProperty(a,d,{configurable:true,enumerable:false,writable:true,value:b[d]})}}function na(a,b){if(a&&b)return typeof a.has==="function"?a.has(b):va(a,b);return false}function oa(a,b){return a&&typeof a.like==="function"?a.like(b):W(a,b)}function pa(a,b){return typeof a.map==="function"?a.map(b):Ba(a,b)}function qa(a,b){typeof a.each==="function"?a.each(b):wa(a,b)}function ra(a,b){return typeof a.some==="function"?a.some(b):
Ca(a,b)}function aa(a,b){return typeof a.every==="function"?a.every(b):Da(a,b)}function sa(a,b){return typeof a.match==="function"?a.match(b):Ea(a,b)}function ta(a){return typeof a.count==="function"?a.count():xa(a)}function ba(a,b){return typeof a.pick==="function"?a.pick(b):Fa(a,b)}function ua(a){return typeof a.keys==="function"?a.keys():Object.keys(a)}function U(a){return typeof a.values==="function"?a.values():Ga(a)}function ca(){}function L(a){X[a]||(X[a]=0);if(++X[a]>=9007199254740991)X[a]=
1;return X[a]}function K(a){switch(F(a)){case "attr":return V(a);case "Hash":return a.valueOf();case "list":return Array.from(a);case "style":return da(a);case "string":return Date.from(a)||a}return a}function V(a){for(var b={},c=0,d;d=a[c++];)b[d.name]=d.value;return b}function da(a){var b={},c,d,e=0,f=a.length;if(f)for(;e<f;++e){c=a.item(e);if((d=a[c])&&typeof d==="string")b[c]=d}return b}function H(a,b,c){return C(a,b||0,c||null,0)}function C(a,b,c,d){if(!(b&&d>b)){var e,f,g=0,l;switch(F(a)){case "undefined":case "null":return""+
a;case "boolean":case "string":case "number":return a.valueOf();case "regexp":return RegExp(a.source,(a+"").slice(a.source.length+2));case "Hash":return a.copy();case "date":return new Date(+a);case "array":e=[];for(l=a.length;g<l;++g)e[g]=C(a[g],b,c,d+1);return e;case "object":e={};f=Object.keys(a);for(l=f.length;g<l;++g)e[f[g]]=C(a[f[g]],b,c,d+1);return e;case "function":return a}if(c)return c(a);throw new TypeError("UNKNOWN_TYPE: "+a);}}function N(a,b){function c(){I={18:{},33:{},20:{},65:{}};
for(var e=0,f,g;e<256;++e){f=(e+256).toString(16).slice(1);g=String.fromCharCode(e);I[18][e]=f;I[33][f]=e;I[20][e]=g;I[65][g]=e}for(e=128;e<256;++e)I[65][String.fromCharCode(63232+e)]=e}var d={integer:1,hexstring:2,bytestring:4};d=d[a.toLowerCase()]<<4|d[b.toLowerCase()];I||c();return I[d]||{}}function h(a,b,c){b=b===void 0?4:b;c=c||5;return k(a,b,c,1)}function k(a,b,c,d){function e(r){if(!r.length)return"[]";for(var u=[],w=0,t=r.length;w<t;++w)u.push(n+k(r[w],b,c,d+1));return"["+l+u.join(","+l)+
l+" ".repeat(b*(d-1))+"]"}function f(r){function u(J){return J.__CLASS__?"mm."+J.__CLASS__+o:J.nickname?J.nickname("")+"()"+o:""}var w=[],t,x=b===-1,D=Object.keys(r).sort(),G=0,O=D.length,y=/^__[\w]+__$/;if(!O)return u(r)+"{}";for(;G<O;++G){t=D[G];y.test(t)||w.push(n+(x?t+":":'"'+t+'":')+o+k(r[t],b,c,d+1))}return u(r)+"{"+l+w.join(","+l)+l+" ".repeat(b*(d-1))+"}"}function g(r){var u=r.nodeName?r.nodeName.toLowerCase():"",w=/^(?:html|head|body)$/;if(typeof r.path==="function")return"<@@@@>".at(u,w.test(u)?
"":" "+r.path());return u?"<"+u+">":r===document?"<document>":"<node>"}if(c&&d>c)return"...";var l=b>0?"\n":"",o=b>0?" ":"",n=" ".repeat(b*d);switch(F(a)){case "null":case "global":case "number":case "boolean":case "undefined":return""+a;case "date":return a.toJSON();case "node":return g(a);case "attr":return f(V(a));case "list":case "array":return e(a);case "style":return f(da(a));case "regexp":return"/"+a.source+"/";case "Hash":return f(a.valueOf());case "object":case "function":return f(a);case "string":return'"'+
i(a)+'"'}return""}function i(a){var b={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return a.replace(/(?:[\b\t\n\f\r\"]|\\)/g,function(c){return b[c]}).replace(/(?:[\x00-\x1f])/g,function(c){return"\\u00"+("0"+c.charCodeAt(0).toString(16)).slice(-2)})}function j(a,b){if(typeof a==="number"||typeof a==="string"){var c={};c[a]=b;return c}return a}function q(a){return function(){return a}}function m(a,b){return typeof a.clean==="function"?a.clean(b):Ha(a,b)}function s(a){for(var b=
Object.keys(a),c=0,d=b.length;c<d;++c)delete a[b[c]];return a}function v(){alert(h.apply(null,arguments))}function M(a,b){Ia(a,b,true)}function Ia(a,b,c){c=c||false;var d=false,e="";if(b!=null){switch(typeof b){case "function":d=!(b(a)^c);break;case "boolean":d=!(b^c);break;case "string":d=!(b.split("/").some(function(o){if(a){if(o in mm.Interface){e="interface";if(typeof _judgeInterface)return _judgeInterface(a,mm.Interface[o]);return true}if(o in mm.Class)return true}o=o;o=o.toLowerCase();o=a==
null&&o===a+""?true:o==="class"?!!a.__CLASS__:o==="integer"?Number.isInteger(a):o==="primitive"?a==null||typeof a!=="object":o==="codedarray"?Array.isCodedArray(a):o===F(a);return o})^c);break;default:throw new TypeError("BAD_ARG");}if(d)try{var f=mm.strict?null:(arguments.callee||0).caller,g=f?f.nickname():"???";d=c?"mm.deny":"mm.allow";if(e==="interface")throw new TypeError("\n\n>>> "+g+" in "+d+"("+h(a,0)+", "+b+")\n"+"\ninterface @@ @@\n".at(b,h(mm.Interface[b])));else throw new TypeError("\n\n>>> "+
g+" in "+d+"("+h(a,0)+", "+b+")\n"+"\nhelp: @@\n\n".at(Ja(f)));}catch(l){E(mm.env.chrome?l.stack.replace(/at eval [\s\S]+$/m,""):l+"");throw new TypeError("ASSERTION");}}}function Za(){var a=(p.performance||0).timing||0;if(!a)return{processing:0,redirect:0,appcache:0,dns:0,dom:0,load:0,fetch:0};return{processing:a.loadEventStart-a.responseEnd,redirect:a.redirectEnd-a.redirectStart,appcache:a.domainLookupStart-a.fetchStart,dns:a.domainLookupEnd-a.domainLookupStart,dom:a.domContentLoadedEventEnd-a.domContentLoadedEventStart,
load:a.loadEventEnd-a.loadEventStart,fetch:a.loadEventEnd-a.fetchStart}}function ea(){if(ea._keys)return ea._keys.xor(Object.keys(p));ea._keys=Object.keys(p);return[]}function F(a){var b,c;if(b=a===null?"null":a===void 0?"undefined":a===p?"global":a.nodeType?"node":a.__CLASS__?a.__CLASS__:"")return b;c=typeof a;if(c!=="object")return c;c=Object.prototype.toString.call(a);if(c==="[object Object]")(b=a.constructor.name)||(c=a.constructor+"");b||(b=(/^\[object (\w+)\]$/.exec(c)||/^\s*function\s+(\w+)/.exec(c)||
["",""])[1]);if(!b||b==="Object")if(a[mm.strict?"":"callee"]||typeof a.item==="function")return"list";if(b in ya)return ya[b];return b?b.toLowerCase():"object"}function $a(a){wa(a,function(b,c){ya["[object "+c+"]"]=b})}function ab(a,b){return a===void 0?1:b!==void 0?3:a&&typeof a==="string"?2:4}function E(){z.push({type:0,time:Date.now(),msg:[].slice.call(arguments).join(" ")});z.length>E.limit&&Y()}function bb(){z.push({type:1,time:Date.now(),msg:[].slice.call(arguments).join(" ")});z.length>E.limit&&
Y()}function cb(){z.push({type:2,time:Date.now(),msg:[].slice.call(arguments).join(" ")});z.length>E.limit&&Y()}function db(){return{data:z.copy(),index:fa}}function Y(a){function b(l){return(new Date(l.time)).format(l.type&4?"[D h:m:s ms]:":"[I]:")}var c=z,d=fa,e=c.length,f=p.console,g=mm.env.webkit?"  ":"";if(a){if(a.indexOf("http")===0)if(p.Image)for(;d<e;++d)(new Image).src=a.at(c[d].msg)}else if(f)for(;d<e;++d)switch(c[d].type){case 0:f.log(g+b(c[d])+c[d].msg);break;case 1:f.warn(g+b(c[d])+c[d].msg);
break;case 2:f.error(b(c[d])+c[d].msg);break;case 4:f.log(g+b(c[d])+c[d].msg);case 6:f.error(b(c[d])+c[d].msg)}fa=d}function eb(){fa=0;z=[]}function ga(a,b){function c(l,o){return"@@@@ @@( @@ )".at(g[0].repeat(f),g[l],a,o)}function d(){z.push({type:b,time:Date.now(),msg:c(2,[].slice.call(arguments).join(" "))})}a=a.nickname?a.nickname():a;b=b||0;var e=Date.now(),f=ga.nest++,g=mm.env.lang==="ja"?["\u2502","\u250c","\u2502","\u2514"]:["|","+-","| ","`-"];z.push({type:b,time:Date.now(),msg:c(1,"")});
d.out=function(){z.push({type:b,time:Date.now(),msg:c(3,(new Date).diff(e))});--ga.nest;z.length>E.limit&&Y()};d.error=function(){z.push({type:b+2,time:Date.now(),msg:c(2,[].slice.call(arguments).join(" "))})};return d}function Ka(a){for(var b=[],c,d=(this.addr||this._broadcast).concat(),e=0,f=d.length,g=Array.prototype.slice.call(arguments),l=this.deli||this._deliverable;e<f;++e)if((c=l[d[e].__CLASS_UID__])&&c.msgbox)b[e]=c.msgbox.apply(c,g);else{b[e]="NOT_DELIVERABLE";c&&E(a+" is not deliverable. "+
c.__CLASS__)}return b}function La(a){var b=(this.addr||this._broadcast).concat(),c=Array.prototype.slice.call(arguments),d=this.deli||this._deliverable;(0).wait(function(){for(var e,f=0,g=b.length;f<g;++f)if((e=d[b[f].__CLASS_UID__])&&e.msgbox)e.msgbox.apply(e,c);else e&&E(a+" is not deliverable. "+e.__CLASS__)});return this.that||this}function fb(a){if(a.typeDate)return a;var b=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:\.(\d*))?Z$/.exec(a);if(b)return new Date(Date.UTC(+b[1],+b[2]-1,+b[3],+b[4],
+b[5],+b[6],b[7]?+b[7]:0));a=new Date(a);return isNaN(+a)?null:a}function gb(a){a=Math.abs(+this-+a);var b=new Date(a);return{days:a/864E5|0,times:b.times(),toString:function(c){return b.format(c||"m:s.ms")}}}function hb(){return{y:this.getUTCFullYear(),m:this.getUTCMonth()+1,d:this.getUTCDate()}}function ib(){return{h:this.getUTCHours(),m:this.getUTCMinutes(),s:this.getUTCSeconds(),ms:this.getUTCMilliseconds()}}function jb(a){var b=[];a=(a||"I").split("");var c,d=0,e=a.length;c=this.toJSON();var f=
c.split(/[^\d]/);for(f={I:c,d:+this/864E5|0,Y:f[0],M:f[1],D:f[2],h:f[3],m:f[4],s:f[5],ms:f[6]};d<e;++d){c=a[d];if(c==="m"&&a[d+1]==="s"){c="ms";++d}b.push(f[c]||c)}return b.join("")}function kb(a,b,c){return a.to(b,c)}function lb(a){return Array.isArray(a)?a:[a]}function mb(a){return Array.isArray(a)&&!!a.code}function nb(a){for(var b,c,d=0,e=this.length;d<e;d+=2)if(d in this){b=this[d];c=this[d+1];if(typeof c==="function")if(b=c(b,d,a))return b}}function ob(a,b){for(var c=0,d=this.length;c<d;++c)if(c in
this&&a.call(b,this[c],c,this))return this[c]}function pb(a){var b=this,c=0;return a.replace(/@@/g,function(){return b[c++]})}function qb(a){if(Array.isArray(a)){for(var b=0,c=a.length;b<c;++b)if(this.indexOf(a[b])<0)return false;return true}return this.indexOf(a)>=0}function rb(a){return a?H(this):this.concat()}function sb(){return this.sieve().values}function tb(a){a=a||"";for(var b=[],c,d=0,e=this.length;d<e;++d){c=this[d];if(c===c&&c!=null)if(!a||typeof c===a)b.push(c)}return b}function ub(a,
b,c){switch((this.code||a||"utf16").toLowerCase()){case "utf8":a=[];var d=0;b=b||0;c=c||this.length;if(c>this.length)c=this.length;for(;b<c;++b){d=this[b];if(d<128)a.push(d);else if(d<224)a.push((d&31)<<6|this[++b]&63);else if(d<240)a.push((d&15)<<12|(this[++b]&63)<<6|this[++b]&63);else d<248&&a.push((d&7)<<18|(this[++b]&63)<<12|(this[++b]&63)<<6|this[++b]&63)}return Ma(a);case "utf16":return Ma(this,b,c)}return""}function Ma(a,b,c){var d=[],e=0,f=a.length;if(b!==void 0||c!==void 0){a=a.slice(b||
0,Math.max(c||f,f));f=a.length}for(;e<f;e+=10240)d.push(String.fromCharCode.apply(null,a.slice(e,e+10240)));return d.join("")}function vb(){return xa(this)}function wb(){for(var a=this.clean(),b=[],c=[],d=0,e=a.length;d<e;++d)b.indexOf(a[d])>=0?c.push(a[d]):b.push(a[d]);return{values:b,dups:c}}function xb(){var a=this.concat();this.length=0;return a}function yb(a,b,c){for(var d=0,e=b==null;d=this.indexOf(a,d)+1;){e?this.splice(d-1,1):this.splice(d-1,1,b);if(!c)break;--d}return this}function zb(){var a=
this.clean(),b=a.length,c,d;if(b)for(;--b;){c=Math.random()*(b+1)|0;if(b!==c){d=a[b];a[b]=a[c];a[c]=d}}return a}function Ab(a){return this[a||0]}function Bb(a){return this[this.length-(a||0)-1]}function Cb(){for(var a=0,b=this.clean("number"),c=0,d=b.length;c<d;++c)a+=b[c];return a}function Db(){var a,b,c,d;a=[];c=0;for(d=this.length;c<d;++c){b=this[c];a[c]=typeof b==="number"?b<0?"-0x"+b.hh(4).slice(1):"0x"+b.hh(4):"NaN"}return"[ "+a.join(", ")+" ]"}function Eb(a,b){return this.clean("number").map(function(c){return c.clamp(a,
b)})}function Fb(a){function b(d,e){return d-e}function c(d,e){return e-d}return this.clean("number").sort(a?c:b)}function Gb(a){var b=this.clean("number"),c=b.length;if(!a)return b.sum()/c;b.nsort();return c%2?b[(c-1)/2]:(b[c/2-1]+b[c/2])/2}function Hb(a){return this.concat(a).unique()}function Ib(a){for(var b=[],c=0,d=this.length;c<d;++c)c in this&&a.indexOf(this[c])>=0&&b.push(this[c]);return b}function Jb(a){for(var b=[],c,d=0,e=this.length;d<e;++d)if(d in this){c=a.indexOf(this[d]);c>=0?a.splice(c,
1):b.push(this[d])}return b.concat(a)}function Kb(a,b,c){var d=this.concat();b=b||0;c=c||d.length;switch(F(a)){case "date":for(;b<c;++b)d[b]=new Date(a);break;case "array":for(;b<c;++b)d[b]=a.concat();break;case "object":for(;b<c;++b)d[b]=H(a);break;default:for(;b<c;++b)d[b]=a}return d}function Lb(){this.length=0;return this}function Mb(){return this[Math.random()*this.length|0]}function Nb(a){for(var b=[],c=this.clean(),d=0,e=c.length;d<e;++d)a(c[d],d)||b.push(c[d]);return b}function Ob(a){for(var b=
[],c=this.clean(),d=0,e=c.length;d<e;++d)a(c[d],d)&&b.push(c[d]);return b}function Pb(){function a(c){for(var d=0,e=c.length,f;d<e;++d)if(d in c){f=c[d];Array.isArray(f)?a(f):b.push(f)}}var b=[];a(this);return b}function Qb(a){a=RegExp.esc(a);return this.trim().replace(RegExp("^"+a+"+"),"").replace(RegExp(a+"+$"),"")}function Rb(){return this.trim().replace(/<\/?[^>]+>/g,"")}function Sb(){var a=this.trim(),b=/^["']/.exec(a);if(b)if(b=RegExp(b[0]+"$").exec(a))return a.trims(b[0]);return a}function Tb(a,
b){b=b||0;var c=this.slice(0,b),d=this.slice(b);return c+a+d}function Ub(a,b){if(a){b=this.indexOf(a,b||0);if(b>=0)return this.slice(0,b)+this.slice(b+a.length)}return this+""}function Vb(a,b){return A.unpack(this+"",a,b)}function Wb(){var a=0,b=arguments;return this.replace(/@@/g,function(){return b[a++]})}function Xb(a){if(a!==void 0){a=a<0?this.length+a:a;if(a in this)return this.slice(0,a)+this[a].toUpperCase()+this.slice(a+1)}return this.toUpperCase()}function Na(a){if(a!==void 0){a=a<0?this.length+
a:a;if(a in this)return this.slice(0,a)+this[a].toLowerCase()+this.slice(a+1)}return this.toLowerCase()}function Yb(a,b){if(b){if(this.length<a.length)return false;var c,d=this.count(),e=a.count();for(c in e)if(!d[c]||d[c]<e[c])return false;return true}return this.indexOf(a)>=0}function Zb(a){if(a)return RegExp.URL.test("http://a.a/"+this.replace(/^\/+/,""));return/^(https?|wss?):/.test(this)?RegExp.URL.test(this):RegExp.FILE.test(this)}function $b(a){for(var b={},c,d=this.split(""),e=0,f=d.length;e<
f;++e){c=d[e];b[c]?++b[c]:b[c]=1}return a?b[a]||0:b}function ac(a){return this.trim().split(a||",").map(parseFloat).clean("number")}function bc(){var a=0,b=0,c=arguments;return this.replace(/%(?:(\d+)\$)?(#|0| )?(\d+)?(?:\.(\d+))?(l)?([%iduoxXfcs])/g,function(d,e,f,g,l,o,n){if(n==="%")return n;b=e?parseInt(e):a++;d={i:17,d:17,u:33,o:353,x:609,X:4705,f:146,c:26624,s:132}[n];var r;e=c[b]===void 0?"":c[b];d&1&&(e=parseInt(e));d&2&&(e=parseFloat(e));d&3&&(e=e===e?e:"");d&4&&(e=((n==="s"?e:n)||"").toString());
d&32&&(e=e>=0?e:e%4294967296+4294967296);d&768&&(e=e.toString(d&256?8:16));d&64&&f==="#"&&(e=(d&256?"0":"0x")+e);d&128&&l&&(e=d&2?e.toFixed(l):e.slice(0,l));d&24576&&(r=typeof e!=="number"||e<0);d&8192&&(e=r?"":String.fromCharCode(e));e=d&4096?e.toString().toUpperCase():e.toString();if(!(d&2048||g===void 0||e.length>=g)){g=(!f||f==="#"?" ":f).repeat(g-e.length);e=d&16&&f==="0"&&!e.indexOf("-")?"-"+g+e.slice(1):g+e}return e})}function cc(){return this.split("").unique().join("")}function dc(a){switch((a||
"utf16").toLowerCase()){case "utf8":a=[];for(var b=0,c=this.length,d=0,e,f;b<c;++b){d=this.charCodeAt(b);if(d<128)a.push(d);else if(d<2048)a.push(d>>>6&31|192,d&63|128);else if(d>=55296&&d<=57344){e=this.charCodeAt(b+1);if(e>=56320&&e<=57343){f=(d>>>6&15)+1;a.push(f>>>2&7|240,f<<4&48|128|d>>>2&15,d<<4&48|128|e>>>6&15,e&63|128)}else throw new URIError("BAD_ARG");}else if(d<65536)a.push(d>>>12&15|224,d>>>6&63|128,d&63|128);else d<1114112&&a.push(d>>>18&7|240,d>>>12&63|128,d>>>6&63|128,d&63|128)}a.code=
"utf8";return a;case "utf16":a=[];b=0;for(c=this.length;b<c;++b)a[b]=this.charCodeAt(b)&2097151;a.code="utf16";return a;case "base64":return Oa(this);case "safe64":return Oa(this).replace(/\=+$/g,"").replace(/\+/g,"-").replace(/\//g,"_");case "entity":return ec(this)}return""}function fc(a){switch((a||"base64").toLowerCase()){case "base64":case "safe64":P||Pa();a=[];for(var b=0,c=-1,d=this.split(""),e=this.length-1,f=P.codes;c<e;){b=f[d[++c]]<<18|f[d[++c]]<<12|f[d[++c]]<<6|f[d[++c]];a.push(b>>16&
255,b>>8&255,b&255)}a.length-=[0,0,2,1][this.replace(/\=+$/,"").length%4];a.code="utf8";return a.decode();case "entity":return gc(this)}return""}function Oa(a){P||Pa();var b=[];a=a.encode("utf8");var c=0,d=-1,e=a.length,f=[0,2,1][e%3],g=P.chars;for(--e;d<e;){c=a[++d]<<16|a[++d]<<8|a[++d];b.push(g[c>>18&63],g[c>>12&63],g[c>>6&63],g[c&63])}f>1&&(b[b.length-2]="=");f>0&&(b[b.length-1]="=");return b.join("")}function Pa(){var a=0;for(P={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),
codes:{"=":0,"-":62,_:63}};a<64;++a)P.codes["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)]=a}function ec(a){return a.replace(/[&<>"]/g,function(b){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[b]})}function gc(a){return a.replace(/&(?:amp|lt|gt|quot);/g,function(b){return{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'}[b]}).replace(/\\u([0-9a-f]{4})/g,function(b,c){return String.fromCharCode(parseInt(c,16))})}function hc(a,b){b=b||"...";var c=b.length;if(this.length>
a){if(a-c<1)return b.slice(0,a);return this.slice(0,a-c)+b}return""+this}function ic(){return this.low().up(0)}function jc(){try{return(new Function(this))()}catch(a){}}function kc(a,b){var c=[],d=this|0,e=d>a,f=(e?a:d)|0;d=(e?d:a)|0;var g=typeof b,l=1;if(g==="function")for(;f<=d;++f)b(f)&&c.push(f);else{if(g==="number")l=b|0;if(l<1||a>=2147483647)throw Error("BAD_ARG");for(;f<=d;f+=l)c.push(f)}return e?c.reverse():c}function lc(a,b){a=a||2;b=b||10;var c=Math.abs(+this)>>>0;if(a===2&&b===10&&c<100)return c<
10?"0"+c:""+c;return("00000000000000000000000000000000"+c.toString(b)).slice(-a)}function mc(a){return(this^a)>>>0}function nc(a){var b=a[0]||null,c=a[1]||a,d=Array.prototype.slice.call(arguments,1);return setTimeout(function(){c.apply(b,d)},this*1E3)}function oc(a){var b=[],c=a[0]||null,d=a[1]||a,e=Array.prototype.slice.call(arguments,1),f=0,g=+this|0;e=e?e.concat():[];var l=e.length;if(g>0)for(;f<g;++f){e[l]=f;b.push(d.apply(c,e))}return b}function pc(a,b){var c=+this,d;if(a>b){d=[b,a];a=d[0];b=
d[1]}return c<a?a:c>b?b:c}function qc(){return this*Math.PI/180}function rc(){return this*180/Math.PI}function sc(){return String.fromCharCode(this)}function tc(){var a=+this;return a?Math.random()*a|0:Math.random()}function Qa(a){a=a||this;var b=Ja(a);return b+"\n\n"+a+"\n\n"+b}function Ja(a){var b;if(a=/@help:\s*([^ \n\*]+)\n?/.exec("\n"+a+"\n"))b=Ra.chain(a[1].trim());return b||""}function uc(a,b){if(Array.isArray(b))b=RegExp("^("+b.join("|")+")(?:([#\\.])([\\w\\,]+))?$");Ra.push(b,function(c,
d,e){c=c.exec(e);if(!c)return false;return!c[2]?"@@@@".at(a,c[1]):c[2]==="."?"@@@@#@@.@@".at(a,c[1],c[1],c[3]):"@@@@#@@.prototype.@@".at(a,c[1],c[1],c[3])})}function vc(a){for(var b=[],c=arguments,d=1,e=c.length;d<e;++d)F(c[d])==="list"?Array.prototype.push.apply(b,Array.from(c[d])):b.push(c[d]);return this.apply(a,b)}function wc(a){var b=this.name||(this+"").split("(")[0].trim().slice(9);return b?b.replace(/^mm_/,"mm."):a}function xc(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function yc(a){var b=
(this+"").slice(this.source.length+2);if(a)if(a[0]==="-")a.slice(1).split("").each(function(c){b=b.remove(c)});else b=(b+a.trims("+")).unique();else b="";return RegExp(this.source,b)}function zc(a,b){return new S(this,a,b)}function Sa(a){if(a.state===100)a.state=a.miss>a.missables?400:a.pass+a.miss>=a.waits?200:a.state;a.tick&&a.tick({ok:a.state===200,args:a.args,state:a.state});if(a.state>100)if(a.fn){a.fn({ok:a.state===200,args:a.args,state:a.state});a.fn=a.tick=null;a.args=[]}}function za(a,b){if(this.length){var c=
Aa(this.clean()),d,e;d=Ta(c.array.join(" > "));e=d.shift();c=mm.mix(c.object,{arg:b,pass:0,miss:0,logg:ga(a||"")});e&&Ua(d,e,c)}}function Ua(a,b,c){var d=0;b.each(function(e){function f(w,t){var x=w===false;x?c.logg.error(e+":",w,t):c.logg(e+":",w,t);x?++c.miss:++c.pass;if(typeof za.tick==="function"){x={ok:!x,msg:t||"",name:e||"",pass:c.pass,miss:c.miss};if(za.tick(x)===false)return}if(++d>=b.length)(x=a.shift())?Ua(a,x,c):c.logg.out()}var g,l,o,n,r;switch(mm.type(c[e])){case "array":try{g=c[e][0];
l=c[e][1];n=c[e][2]||mm.like;o=n(g,l);r="= @@( @@ )".at(n.nickname(),h(g,0)+", "+h(l,0))}catch(u){r=u+""}f(o,r);break;case "boolean":f(c[e]);break;case "function":o=c[e](f);switch(o){case false:case true:f(o);break;case void 0:if(c[e].length)break;default:throw new TypeError("NEED_BOOLEAN_VALUE: "+e);}break;default:throw new TypeError("BAD_TYPE: "+e);}})}function Aa(a){for(var b={object:{},array:[]},c=0,d=a.length,e;c<d;++c){e=typeof a[c]==="function"?a[c].nickname("fn"+c):""+c;b.object[e]=a[c];b.array.push(e)}return b}
function Ta(a){var b=[],c=[];a.match(/([\w\-\u00C0-\uFFEE]+|[/+>])/g).each(function(d){d==="+"||(d===">"?c.length&&b.push(c.shifts()):c.push(d))});c.length&&b.push(c.concat());return b}function Ac(){return Aa(this).array.join(" > ").stream(this)}function Bc(a){var b=Ta(""+this);a=Array.isArray(a)?Aa(a).object:a;a.__cancel__=false;a.__halt__=function(c,d){a.__halt__=mm.nop;a.__cancel__=true;a.halt&&a.halt(c||"user",d||false)};b.length&&Va(a,b);return{halt:a.__halt__}}function Va(a,b){if(!a.__cancel__){var c=
0,d=b.shift();d&&d.each(function(e){function f(n){if(n===false)a.__halt__(e,false);else++c>=d.length&&Va(a,b)}var g,l=/^(?:(\d+ms)|(\d+s)|(\d+))$/.exec(e);if(l){g=parseInt(l[0])*(l[1]?1:1E3);setTimeout(function(){f(true)},g)}else if(e in a){try{g=a[e](f)}catch(o){return a.__halt__(e,true)}switch(g){case false:case true:f(g);break;case void 0:if(a[e].length)break;default:throw new TypeError("NEED_BOOLEAN_VALUE: "+e);}}else throw new TypeError("FUNCTION_NOT_FOUND: "+e);})}}function Cc(){this.map=Array.prototype.map;
this.each=Array.prototype.each;this.some=Array.prototype.some;this.every=Array.prototype.every;return this}function Dc(a,b,c){a=a||ca;b=(b||0)/1E3|0;(c=c||0)||(c=5E4);this.map=function(d,e){return ha(this,d,e,a,b,c,"map")};this.each=function(d,e){return ha(this,d,e,a,b,c,"each")};this.some=function(d,e){return ha(this,d,e,a,b,c,"some")};this.every=function(d,e){return ha(this,d,e,a,b,c,"every")};return this}function ha(a,b,c,d,e,f,g){function l(D,G,O,y,J,Q){return function(){for(var R;y<J;++y)if(y in
D){R=G.call(O,D[y],y,D);Q&&(x[y]=R)}return true}}function o(D,G,O,y,J,Q){return function(){for(var R;y<J;++y)if(y in D){R=G.call(O,D[y],y,D);if(!R&&!Q||R&&Q){x=Q?true:false;return false}}x=Q?false:true;return true}}var n=0,r=a.length,u,w=[],t={},x;if(g==="map")x=Array(r);for(;n<r;n+=f){u=Math.min(r,n+f);switch(g){case "map":t["fn"+n]=l(a,b,c,n,u,true);break;case "each":t["fn"+n]=l(a,b,c,n,u,false);break;case "some":t["fn"+n]=o(a,b,c,n,u,true);break;case "every":t["fn"+n]=o(a,b,c,n,u,false)}w.push("fn"+
n,e)}t.end=function(){d(x,false);return true};t.halt=function(D,G){d(x,G)};w.pop();return(w.join(" > ")+" > end").stream(t)}function va(a,b){for(var c,d=Object.keys(b),e=0,f=d.length;e<f;++e){c=d[e];if(!(c in a)||!W(a[c],b[c]))return false}return true}function W(a,b){var c=F(a),d=F(b),e={string:1,date:1,list:2,array:2,object:3,Hash:3};if(c!==d){if(e[c]&&e[c]===e[d]){if(d==="string"||d==="list"||d==="Hash")return W(a,K(b));return W(K(a),b)}return false}switch(c){case "list":return Array.from(a)+""===
Array.from(b)+"";case "array":return a+""===b+"";case "regexp":return a.source===b.source;case "object":return Object.keys(a).length===Object.keys(b).length&&va(a,b);case "number":return isNaN(a)&&isNaN(b)?true:a===b}return a&&a.toJSON?a.toJSON()===b.toJSON():a===b}function Ba(a,b){for(var c=[],d,e=Object.keys(a),f=0,g=e.length;f<g;++f){d=e[f];c.push(b(a[d],d))}return c}function wa(a,b){for(var c,d=Object.keys(a),e=0,f=d.length;e<f;++e){c=d[e];b(a[c],c)}}function Ca(a,b){for(var c,d=Object.keys(a),
e=0,f=d.length;e<f;++e){c=d[e];if(b(a[c],c))return true}return false}function Da(a,b){for(var c,d=Object.keys(a),e=0,f=d.length;e<f;++e){c=d[e];if(!b(a[c],c))return false}return true}function Ea(a,b){for(var c,d=Object.keys(a),e=0,f=d.length;e<f;++e){c=d[e];if(b(a[c],c))return a[c]}}function Ha(a,b){b=b||"";for(var c={},d,e,f=Object.keys(a),g=0,l=f.length;g<l;++g){d=f[g];e=a[d];if(e===e&&e!=null)if(!b||typeof e===b)c[d]=e}return c}function xa(a){for(var b={},c,d=Object.keys(a),e=0,f=d.length;e<f;++e){c=
a[d[e]]+"";b[c]?++b[c]:b[c]=1}return b}function Fa(a,b){for(var c=[],d,e=Object.keys(a),f=0,g=e.length,l,o=Array.toArray(b),n,r=o.length;f<g;++f){l=a[e[f]];for(n=0;n<r;++n){d=o[n];l.hasOwnProperty(d)&&c.push(l[d])}}return c}function Ga(a){for(var b=[],c=Object.keys(a),d=0,e=c.length;d<e;++d)b.push(a[c[d]]);return b}function Ec(a){return new A(Ha(this._,a))}function Fc(a,b){a=a||":";b=b||";";for(var c=[],d,e=Object.keys(this._),f=0,g=e.length;f<g;++f){d=e[f];c.push(d+a+this._[d])}return c.join(b)}
function Gc(a){return!a?p.location.href:typeof a==="string"?Wa(a):Xa(a)}function Xa(a){return[a.protocol,a.protocol?a.protocol==="file:"?"///":"//":"",a.host||"",a.pathname||"/",a.search||"",a.fragment||""].join("")}function Wa(a){function b(e){var f=e.pathname.split("/");e.href=e.href||"";e.protocol=e.protocol||"";e.scheme=e.protocol;e.secure=e.secure||false;e.host=e.host||"";e.auth=e.auth||"";e.hostname=e.hostname||"";e.port=e.port||0;e.pathname=e.pathname||"";e.file=f.pop();e.dir=f.join("/")+"/";
e.search=e.search||"";e.query=Ya(e.search);e.fragment=e.fragment||"";e.ok=e.ok||true;return e}var c,d={"http:":80,https:443,"ws:":81,"wss:":816};if(c=RegExp.FILE.exec(a))return b({href:a,protocol:c[1],pathname:c[2],search:c[3],fragment:c[4]});if(c=RegExp.URL.exec(a))return b({href:a,protocol:c[1],secure:c[1]==="https:"||c[1]==="wss:",host:c[2],auth:c[3],hostname:c[4],port:c[5]?+c[5]:d[c[1]]||0,pathname:c[6],search:c[7],fragment:c[8]});if(c=RegExp.PATH.exec(a))return b({href:a,pathname:c[1],search:c[2],
fragment:c[3]});return b({href:a,pathname:a,ok:false})}function Hc(a){if(/^(https?|file|wss?):/.test(a))return a;var b=p.document.createElement("a");b.setAttribute("href",a);return b.cloneNode(false).href}function Ic(a){for(var b=[],c=Wa(a),d=/^\.+$/,e=c.dir.split("/"),f=0,g=e.length;f<g;++f){a=e[f];if(a==="..")b.pop();else d.test(a)||b.push(a)}c.pathname=("/"+b.join("/")+"/").replace(/\/+/g,"/")+c.file;return Xa(c)}function Jc(a,b){b=b||"&";return mm.map(a,function(c,d){d=p.encodeURIComponent(d);
return Array.toArray(c).map(function(e){return d+"="+p.encodeURIComponent(e)}).join(b)}).join(b)}function Ya(a){var b={};if(a.indexOf("?")>=0)a=a.split("?")[1].split("#")[0];a.replace(/&amp;|&|;/g,";").replace(/(?:([^\=]+)\=([^\;]+);?)/g,function(c,d,e){c=p.encodeURIComponent(d);e=p.encodeURIComponent(e);if(b[c])if(Array.isArray(b[c]))b[c].push(e);else b[c]=[b[c],e];else b[c]=e;return""});return b}function Kc(a){if(!a.browser)return a;var b=p.navigator,c=b.userAgent;a.ua=c;a.lang=(b.language||b.browserLanguage||
"").split("-",1)[0];a.secure=p.location.protocol==="https:";a.ipad=/iPad/.test(c);a.chrome=/Chrome/.test(c);a.webkit=/WebKit/.test(c);a.safari=a.webkit&&!a.chrome;a.mobile=/mobile/i.test(c);a.ios=/iPhone|iPad|iPod/.test(c);a.mac=/Mac/.test(c);a.android=/android/i.test(c);a.windows=/windows/i.test(c);a.touch=a.ios||a.android||a.ie&&/touch/.test(c);a.retina=(p.devicePixelRatio||1)>=2;return a}A.unpack=function(a,b,c){b=b||":";c=c||";";for(var d={},e,f=a.trims(c).split(c),g=0,l=f.length,o={"":"",NaN:NaN,
"null":null,"true":true,"false":false,undefined:void 0};g<l;++g){a=f[g].indexOf(b);c=a>=0?f[g].slice(0,a):f[g];e="";if(a>=0){e=f[g].slice(a+1).trim();e=e in o?o[e]:isFinite(e)?parseFloat(e):e}d[c.trim()]=e}return new A(d)};Z.prototype={bind:function(){Array.prototype.slice.call(arguments).forEach(function(a){if(a&&a.__CLASS_UID__&&typeof a.msgbox==="function")this._deliverable[a.__CLASS_UID__]=a;else throw Error("NOT_DELIVERABLE");},this);this._broadcast=U(this._deliverable);return this},unbind:function(){(arguments.length?
Array.prototype.slice.call(arguments):this._broadcast).each(function(a){a.__CLASS_UID__&&delete this._deliverable[a.__CLASS_UID__]},this);this._broadcast=U(this._deliverable);return this},list:function(a){return a?ba(this._deliverable,"__CLASS__"):H(this._deliverable)},to:function(){var a={},b;for(b in this._deliverable)a[b]=this._deliverable[b];return{that:this,addr:arguments.length?Array.prototype.slice.call(arguments):this._broadcast.concat(),deli:a,post:La,send:Ka}},post:La,send:Ka};S.prototype=
{missable:function(a){this._db.missables=a;return this},pass:function(a){++this._db.pass;this._db.args.push(a);Sa(this._db);return this},miss:function(a){++this._db.miss;this._db.args.push(a);Sa(this._db);return this},state:function(){return this._db.state}};var P,Ra=[],X={},z=[],fa=0,I,ya={NodeList:"list",Arguments:"list",NamedNodeMap:"attr",HTMLCollection:"list",CSSStyleDeclaration:"style"};if(typeof module!=="undefined")module.exports={mm:$};(function(a,b){b(Function.prototype,{__CLASS__:"function",
typeFunction:true});b(Boolean.prototype,{__CLASS__:"boolean",typeBoolean:true});b(String.prototype,{__CLASS__:"string",typeString:true});b(Number.prototype,{__CLASS__:"number",typeNumber:true});b(RegExp.prototype,{__CLASS__:"regexp",typeRegExp:true});b(Array.prototype,{__CLASS__:"array",typeArray:true});b(Date.prototype,{__CLASS__:"date",typeDate:true});b(Date,{from:fb});b(Date.prototype,{diff:gb,dates:hb,times:ib,format:jb});b(Array,{range:kb,toArray:lb,isCodedArray:mb});b(Array.prototype,{has:qb,
chain:nb,match:ob,at:pb,sieve:wb,unique:sb,reject:Nb,select:Ob,flatten:Pb,each:Array.prototype.forEach,sync:Cc,async:Dc,copy:rb,clean:tb,decode:ub,or:Hb,and:Ib,xor:Jb,sum:Cb,clamp:Eb,nsort:Fb,average:Gb,count:vb,fill:Kb,clear:Lb,remove:function(e,f){return this.replace(e,null,f)},shifts:xb,replace:yb,dump:Db,choice:Mb,stream:Ac,shuffle:zb,first:Ab,last:Bb,test:a(za,{tick:null})});b(String.prototype,{has:Yb,isURL:Zb,at:Wb,up:Xb,low:Na,down:Na,trims:Qb,trimTag:Rb,trimQuote:Sb,format:bc,overflow:hc,
capitalize:ic,unique:cc,encode:dc,decode:fc,unpack:Vb,numbers:ac,count:$b,insert:Tb,remove:Ub,exec:jc,stream:Bc});b(Number.prototype,{pad:lc,to:kc,xor:mc,rand:tc,clamp:pc,toRadians:qc,toDegrees:rc,chr:sc,wait:nc,times:oc});b(Function.prototype,{help:a(Qa,{add:uc}),callby:vc,nickname:wc,await:zc});b(RegExp,{esc:xc,FILE:/^(file:)\/{2,3}(?:localhost)?([^ ?#]*)(?:(\?[^#]*))?(?:(#.*))?$/i,URL:/^(\w+:)\/\/((?:([\w:]+)@)?([^\/:]+)(?::(\d*))?)([^ :?#]*)(?:(\?[^#]*))?(?:(#.*))?$/,PATH:/^([^ ?#]*)(?:(\?[^#]*))?(?:(#.*))?$/});
b(RegExp.prototype,{flag:yc});var c,d={linear:"(c*t/d+b)",inquad:"(q1=t/d,c*q1*q1+b)",outquad:"(q1=t/d,-c*q1*(q1-2)+b)",inoutquad:"(q1=t/(d*0.5),q1<1?c*0.5*q1*q1+b:-c*0.5*((--q1)*(q1-2)-1)+b)",incubic:"(q1=t/d,c*q1*q1*q1+b)",outcubic:"(q1=t/d-1,c*(q1*q1*q1+1)+b)",inoutcubic:"(q1=t/(d*0.5),q1<1?c*0.5*q1*q1*q1+b:c*0.5*((q1-=2)*q1*q1+2)+b)",outincubic:"(q1=t*2,q2=c*0.5,t<d*0.5?(q3=q1/d-1,q2*(q3*q3*q3+1)+b):(q3=(q1-d)/d,q2*q3*q3*q3+b+q2))",inquart:"(q1=t/d,c*q1*q1*q1*q1+b)",outquart:"(q1=t/d-1,-c*(q1*q1*q1*q1-1)+b)",
inoutquart:"(q1=t/(d*0.5),q1<1?c*0.5*q1*q1*q1*q1+b:-c*0.5*((q1-=2)*q1*q1*q1-2)+b)",outinquart:"(q1=t*2,q2=c*0.5,t<d*0.5?(q3=q1/d-1,-q2*(q3*q3*q3*q3-1)+b):(q4=q1-d,q3=q4/d,q2*q3*q3*q3*q3+b+q2))",inback:"(q1=t/d,q2=1.70158,c*q1*q1*((q2+1)*q1-q2)+b)",outback:"(q1=t/d-1,q2=1.70158,c*(q1*q1*((q2+1)*q1+q2)+1)+b)",inoutback:"(q1=t/(d*0.5),q2=1.525,q3=1.70158,q1<1?(c*0.5*(q1*q1*(((q3*=q2)+1)*q1-q3))+b):(c*0.5*((q1-=2)*q1*(((q3*=q2)+1)*q1+q3)+2)+b))",outinback:"(q1=t*2,q2=c*0.5,t<d*0.5?(q3=q1/d-1,q4=1.70158,q2*(q3*q3*((q4+1)*q3+q4)+1)+b):(q3=(q1-d)/d,q4=1.70158,q2*q3*q3*((q4+1)*q3-q4)+b+q2))",
inbounce:"(q1=(d-t)/d,q2=7.5625,q3=2.75,c-(q1<(1/q3)?(c*(q2*q1*q1)+0):(q1<(2/q3))?(c*(q2*(q1-=(1.5/q3))*q1+.75)+0):q1<(2.5/q3)?(c*(q2*(q1-=(2.25/q3))*q1+.9375)+0):(c*(q2*(q1-=(2.625/q3))*q1+.984375)+0))+b)",outbounce:"(q1=t/d,q2=7.5625,q3=2.75,q1<(1/q3)?(c*(q2*q1*q1)+b):(q1<(2/q3))?(c*(q2*(q1-=(1.5/q3))*q1+.75)+b):q1<(2.5/q3)?(c*(q2*(q1-=(2.25/q3))*q1+.9375)+b):(c*(q2*(q1-=(2.625/q3))*q1+.984375)+b))"};for(c in d){Math[c]=new Function("t,b,c,d,q1,q2,q3,q4","return "+d[c]);Math[c].src=d[c]}})(B,T);
(function(a){function b(c){return parseFloat(mm.env.ua.split(c)[1].replace("_","."))||1}mm=a($,{Interface:ia,Class:ja,Hash:A,Await:S,Msg:Z,imsg:{},arg:ma,mix:B,wiz:T,has:na,like:oa,some:ra,every:aa,match:sa,map:pa,each:qa,uid:L,copy:H,cast:K,pair:j,wrap:q,clean:m,count:ta,pick:ba,keys:ua,values:U,clear:s,nop:ca,conv:N,dump:h,strict:q(!this)(),say:v,deny:M,allow:Ia,perf:Za,pollution:ea,type:a(F,{alias:$a}),complex:ab,log:a(E,{copy:db,dump:Y,warn:bb,error:cb,clear:eb,limit:0}),logg:a(ga,{nest:0})});
mm.url=a(Gc,{resolve:Hc,normalize:Ic,buildQuery:Jc,parseQuery:Ya});mm.env=Kc({ua:"",lang:"en",secure:false,ie:!!document.uniqueID,ie8:false,ie9:false,ie10:false,ipad:false,gecko:!!p.netscape,opera:!!p.opera,chrome:false,webkit:false,safari:false,mobile:false,node:!!(p.require&&p.process),ngcore:!!p.Core,browser:!!(p.navigator&&p.document),titanium:!!p.Ti,ios:false,mac:false,android:false,windows:false,touch:false,retina:false});mm.ver={ie:!mm.env.ie?0:b("MSIE "),ios:!mm.env.ios?0:b("OS "),mac:!mm.env.mac?
0:b("Mac OS X"),gecko:!mm.env.gecko?0:b("rv:"),opera:!mm.env.opera?0:parseFloat(p.opera.version()),chrome:!mm.env.chrome?0:b("Chrome/"),webkit:!mm.env.webkit?0:b("AppleWebKit/"),safari:!mm.env.safari?0:b("Version/"),android:!mm.env.android?0:b("Android"),windows:!mm.env.windows?0:b("Windows NT ")};mm.vender=mm.env.webkit?{fn:"webkit",css:"-webkit-",style:"webkit"}:mm.env.gecko?{fn:"moz",css:"-moz-",style:"Moz"}:mm.env.opera?{fn:"o",css:"-o-",style:"O"}:mm.env.ie?{fn:"ms",css:"-ms-",style:"ms"}:{fn:"",
css:"",style:""}})(B);(function(a){a(A.prototype,{__CLASS__:"Hash",mix:function(b,c){B(this._,b.valueOf(),c);return this},has:function(b){return va(this._,b.valueOf())},like:function(b){return W(this._,b.valueOf())},some:function(b){return Ca(this._,b)},every:function(b){return Da(this._,b)},match:function(b){return Ea(this._,b)},map:function(b){return Ba(this._,b)},each:function(b){wa(this._,b)},copy:function(){return new A(H(this._))},cast:function(){return this._},pack:Fc,clean:Ec,count:function(){return xa(this._)},
pick:function(b){return Fa(this._,b)},keys:function(){return Object.keys(this._)},values:function(){return Ga(this._)},clear:function(){this._={};return this},help:function(){return Qa(A)},dump:function(){return h.callby(null,this._,arguments)},toJSON:function(){return p.JSON.stringify.callby(null,this._,arguments)},valueOf:function(){return this._},toString:function(){return h(this._,-1,100)}},true)})(T);mm.help.add("http://code.google.com/p/mofmof-js/wiki/","Object,Array,String,Boolean,Number,Date,RegExp,Function".split(","));
mm.help.add("http://code.google.com/p/mofmof-js/wiki/","mm,Class,Hash,Await,Msg".split(","))}(this.self||global);
